/* Moved styles from <style> block in index.html */

:root {
    /* Light on Dark Nice Color Scheme (Blackish Dark) */
    --primary-color: #FFB703;
    --secondary-color: #8ECAE6;
    --accent-color: #219EBC;
    --background-color: #1A1A1A;
    --card-background: rgba(26, 26, 26, 0.8);
    --text-color: #F0F0F0;
    --muted-text: #9CA3AF;
    --border-color: #2B2B2B;
    --error-color: #E76F51;
    --success-color: #2A9D8F;
    --warning-color: #E9C46A;
    --border-radius: 0px;
    --transition-speed: 0.3s;
    --font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    --wallpaper-overlay: rgba(26, 26, 26, 0.90);
    --mobile-bottom-bar-height: 80px;
    --tablet-breakpoint: 768px;
    --desktop-breakpoint: 1024px;
    --mobile-bottom-padding: calc(var(--mobile-bottom-bar-height) + 20px);
}

* {
    box-sizing: border-box;
}

body {
    font-family: var(--font-family);
    color: var(--text-color);
    margin: 0;
    padding: 0;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: 60px; /* adjust based on top-bar height */
    background: var(--wallpaper-overlay) url('') no-repeat center center fixed;
    background-size: cover;
    -webkit-background-size: cover;
    -moz-background-size: cover;
    -o-background-size: cover;
    padding-bottom: var(--mobile-bottom-bar-height); /* Space for bottom bar on mobile */
}

body::before,
body::after {
    display: none;
}

h1 {
    color: var(--primary-color);
    font-size: 2rem;
    margin: 40px 0;
    font-weight: 700;
}

/* Containers with a subtle glass effect */
.container-pay-rate,
.container {
    background: var(--card-background);
    box-shadow: 0 4px 6px rgba(0,0,0,0.08);
    border-radius: var(--border-radius);
    color: var(--text-color);
}

.container-pay-rate {
    /* Removed: position: absolute; left: 0; right: 0; */
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 20px;
    background: var(--card-background);
    z-index: 1000;
}

.container {
    /* Removed: position: absolute; right: 15px; top: -15px; margin-right: 15%; */
    display: flex;
    align-items: center;
    padding: 10px 20px;  /* adjusted padding */
    margin-left: auto;
}

.top-bar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    padding: 10px 20px;
    background: var(--card-background);
    box-shadow: 0 4px 6px rgba(0,0,0,0.08);
    z-index: 1000;
    flex-wrap: wrap;
    gap: 10px;
}

.top-bar .pay-rate,
.top-bar .clock-controls,
.top-bar .settings-btn {
    display: flex;
    align-items: center;
    gap: 10px;
    width: 100%;
}

label {
    font-size: 1rem;
    font-weight: 500;
    color: var(--text-color);
}

input[type="text"],
input[type="number"],
input[type="email"],
textarea {
    min-width: 200px;
    margin: 0 10px;
    padding: 12px 16px;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    font-size: 1rem;
    width: 100%;
    max-width: 300px;
    background: #FAFAFA;
    color: var(--background-color);
    transition: border-color var(--transition-speed) ease, box-shadow var(--transition-speed) ease;
}

input::placeholder,
textarea::placeholder {
    color: var(--muted-text);
}

input:focus,
textarea:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(30, 144, 255, 0.2);
    outline: none;
}

button {
    padding: 12px 24px;
    border: none;
    border-radius: var(--border-radius);
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    background: var(--primary-color);
    color: #ffffff;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    transition: background-color var(--transition-speed) ease, transform var(--transition-speed) ease;
    margin-right: 20px;
}

button:hover {
    background: var(--secondary-color);
    transform: translateY(-2px);
}

#status {
    font-weight: 600;
    font-size: 1.1rem;
    color: var(--text-color);
    text-align: left;
    min-width: 220px;
}

#status.clocked-in {
    color: var(--success-color);
}

#status.clocked-out {
    color: var(--error-color);
}

.message {
    position: fixed;
    bottom: 40px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--card-background);
    color: var(--text-color);
    padding: 20px 30px;
    border-radius: var(--border-radius);
    font-size: 1rem;
    opacity: 0;
    transition: opacity var(--transition-speed) ease;
    z-index: 1000;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    display: none;
}

.message.show {
    opacity: 1;
    display: block;
}

/* Main Layout */
.chart-wrapper {
    display: flex;
    flex-direction: column;
    gap: 20px;
    width: 98%;
    margin: 40px auto;
    padding: 0 20px;
}

/* Timeline Container Improvements */
.day-line-container {
    position: relative;
    background: var(--card-background);
    padding: 40px 20px 20px 100px; /* Increased left padding for labels */
    border-radius: var(--border-radius);
    width: 100%;
    min-height: 300px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
}

/* Improved Day Line */
.day-line {
    position: relative;
    width: 100%;
    height: 30px;
    background: rgba(26, 26, 26, 0.4);
    margin: 8px 0;
    border-radius: var(--border-radius);
    transition: background-color 0.2s ease;
}

.day-line:hover {
    background: rgba(26, 26, 26, 0.6);
}

/* Overlapping Date Label */
.day-label {
    position: absolute;
    left: -90px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 0.85rem;
    color: var(--text-color);
    width: 80px;
    text-align: right;
    pointer-events: none; /* Makes text clickthrough */
    user-select: none;
    font-family: 'SF Mono', monospace;
    opacity: 0.8;
}

/* Enhanced Time Block */
.time-block {
    position: absolute;
    height: 100%;
    background: var(--primary-color);
    border-radius: var(--border-radius);
    opacity: 0.85;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    cursor: pointer;
    border: 1px solid #1A1A1A;
}

.time-block:hover {
    opacity: 1;
    transform: scaleY(1.1);
}

.time-block.highlighted {
    background: var(--accent-color);
    opacity: 1;
    box-shadow: 0 4px 12px rgba(33, 158, 188, 0.3);
}

/* Improved Hour Timeline */
.hour-timeline {
    position: absolute;
    top: 10px;
    left: 100px; /* Align with day lines */
    right: 20px;
    height: 20px;
    border-bottom: 1px solid var(--border-color);
}

.hour-marker {
    position: absolute;
    top: 0;
    transform: translateX(-50%);
    font-size: 0.75rem;
    color: var(--muted-text);
    pointer-events: none;
    user-select: none;
}

/* Enhanced Content Layout */
.content-columns {
    display: grid;
    grid-template-columns: 1fr;
    gap: 20px;
    width: 100%;
    margin-top: 40px;
}

/* Activity Log and Totals Columns */
.daily-activities,
.totals-container {
    background: var(--card-background);
    padding: 30px;
    border-radius: var(--border-radius);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
}

/* Remove any overflow properties from containers */
.day-line-container,
.daily-activities,
.totals-container {
    overflow: visible;
}

.chart-container {
    width: 100%;
    max-width: 1200px;
    background: var(--card-background);
    padding: 40px;
    border-radius: var(--border-radius);
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

.bar {
    flex: 1;
    margin: 0 12px;
    background: var(--primary-color);
    color: #ffffff;
    border-radius: var(--border-radius) var(--border-radius) 0 0;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    min-height: 60px;
    position: relative;
    width: 200px;
    transition: background-color var(--transition-speed) ease;
    cursor: pointer;
}

.bar:hover {
    background-color: var(--secondary-color);
}

.bar-label {
    margin-top: 12px;
    font-size: 1.2rem;
    padding: 10px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 100%;
    text-align: center;
    font-weight: 600;
}

.bar-value {
    position: absolute;
    top: -30px;
    left: 50%;
    transform: translateX(-50%);
    padding: 6px 12px;
    background: rgba(30, 144, 255, 0.9);
    border-radius: var(--border-radius);
    font-size: 0.8rem;
    color: #fff;
    display: none;
    white-space: nowrap;
}

.bar:hover .bar-value {
    display: block;
}

/* Table Improvements */
table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    margin: 20px 0;
}

th {
    padding: 15px;
    background: rgba(26, 26, 26, 0.4);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-size: 0.85rem;
    border-bottom: 2px solid var(--border-color);
}

td {
    padding: 12px 15px;
    border-bottom: 1px solid var(--border-color);
    font-size: 0.95rem;
}

tr:hover td {
    background: rgba(255, 255, 255, 0.03);
}

/* Table Styles for Totals */
.totals-container table {
    width: 100%;
    border-collapse: collapse;
}

.totals-container th,
.totals-container td {
    padding: 16px 20px;
    text-align: left;
    font-size: 1rem;
    border-bottom: 1px solid var(--border-color);
}

.totals-container th {
    background-color: var(--background-color);
    color: var(--text-color);
    font-weight: 600;
}

.totals-container tr:hover {
    background-color: var(--secondary-color);
}

/* Notes Styling */
.notes-list {
    font-style: normal;
    color: var(--muted-text);
    list-style-type: disc;
    padding-left: 20px;
}

/* Input Forms for Sender and Recipient */
.info-forms {
    display: flex;
    justify-content: space-between;
    width: 90%;
    margin-top: 40px;
}

.info-form {
    width: 45%;
    background: var(--card-background);
    padding: 20px;
    border-radius: var(--border-radius);
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

.info-form h2 {
    font-size: 1.5rem;
    color: var(--primary-color);
    margin-bottom: 20px;
    font-weight: 700;
}

.info-form label {
    display: block;
    margin-bottom: 5px;
    font-weight: 600;
}

.info-form input,
.info-form textarea {
    margin-bottom: 15px;
}

/* Sender and Recipient Blocks */
.sender-recipient-blocks {
    display: none;
    width: 90%;
    justify-content: space-between;
    margin-bottom: 20px;
}

.sender-block,
.recipient-block {
    width: 45%;
    background: var(--card-background);
    padding: 20px;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.sender-block h2,
.recipient-block h2 {
    font-size: 1.5rem;
    margin-bottom: 10px;
    font-weight: 700;
    color: var(--primary-color);
}

.sender-block p,
.recipient-block p {
    margin: 0;
    line-height: 1.6;
    white-space: pre-line;
}

/* Modal Styles */
.modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex; /* ensure modal appears centered */
    align-items: center;
    justify-content: center;
    background: rgba(26, 26, 26, 0.85); /* same dark transparent background */
    z-index: 9999;
    overflow: auto; /* Make modal scrollable */
}
.modal-content {
    position: relative; /* Added to anchor the close button at the top right */
    background: var(--card-background); /* reuse glass effect style */
    padding: 20px;
    border-radius: 8px;
    width: 90%; /* Larger width */
    max-width: 800px; /* Larger max-width */
    max-height: 90%; /* Ensure it doesn't overflow the viewport */
    margin: auto; /* Center horizontally */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
    animation: modalFadeIn 0.3s ease;
    overflow-y: auto; /* Enable vertical scrolling */
}
@keyframes modalFadeIn {
    from { opacity: 0; transform: scale(0.9); }
    to { opacity: 1; transform: scale(1); }
}
.modal .close {
    position: absolute;
    top: 10px;
    right: 10px;
    font-size: 24px;
    color: var(--text-color);
    cursor: pointer;
}

/* Enhanced Print Styles */
@media print {
    @page {
        margin: 2cm;
        size: A4;
    }

    body {
        background: #fff;
        margin: 0;
        padding: 0;
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        font-size: 12pt;
        line-height: 1.6;
        color: #000;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    /* Hide all screen-only elements */
    .day-line-container,
    .mobile-bottom-bar,
    .hour-timeline,
    .time-block,
    .chart-container,
    .container,
    .container-pay-rate,
    #error-message,
    #tooltip,
    .message,
    button,
    input,
    textarea,
    .info-forms,
    h1,
    .top-bar,
    .chart-wrapper .container,
    .hide-on-mobile,
    .settings-btn,
    #note,
    #note-mobile,
    #settings-modal {
        display: none !important;
    }

    /* Show print-only elements */
    .print-only {
        display: block !important;
    }

    /* Show sender-recipient blocks */
    .sender-recipient-blocks {
        display: flex;
        justify-content: space-between;
        margin-bottom: 2cm;
        page-break-inside: avoid;
        width: 100%;
    }

    .sender-block,
    .recipient-block {
        width: 45%;
        border: none;
        box-shadow: none;
        padding: 0;
        background: none;
    }

    /* Invoice Header */
    .invoice-header {
        text-align: right;
        margin-bottom: 1cm;
        page-break-after: avoid;
    }

    .invoice-header h1 {
        font-size: 24pt;
        color: #333;
        margin-bottom: 0.5cm;
        letter-spacing: 0.1em;
        display: block;
    }

    .invoice-header div {
        font-size: 12pt;
        line-height: 1.8;
        color: #333;
    }

    .invoice-total {
        margin-top: 0.5cm;
        font-size: 14pt !important;
        font-weight: bold;
    }

    /* Table Styles */
    .content-columns {
        display: block;
        width: 100%;
    }

    .daily-activities,
    .totals-container {
        box-shadow: none;
        padding: 0;
        margin: 1cm 0;
        page-break-before: auto; /* Changed from always to auto */
        width: 100%;
        max-height: none;
        overflow: visible;
        background: none;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        margin: 0.5cm 0; /* Reduced margin */
        page-break-inside: avoid;
    }

    th, td {
        padding: 0.5cm;
        text-align: left;
        border-bottom: 1pt solid #000;
    }

    th {
        background: #f5f5f5 !important;
        font-weight: bold;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        color: #000;
        border-bottom: 2pt solid #000;
    }

    /* Table cell alignments */
    .hours-cell,
    .earnings-cell {
        text-align: right;
        font-family: "Courier New", monospace;
    }

    .date-cell {
        font-family: "Courier New", monospace;
        white-space: nowrap;
    }

    .notes-cell {
        max-width: 60%;
        white-space: normal;
        word-wrap: break-word;
        font-size: 10pt;
        line-height: 1.4;
        color: #333;
        padding-left: 1cm;
    }

    /* Section headers */
    .section-header {
        background: none;
        color: #000;
        border-bottom: 2pt solid #000;
        border-left: none;
        padding: 10px 0;
        margin: 1cm 0 0.5cm 0;
        font-size: 14pt;
        page-break-after: avoid;
    }

    /* Fix section titles */
    .daily-activities h3,
    .totals-container h3 {
        color: #333;
        font-size: 16pt;
        margin-bottom: 0.5cm;
        font-weight: 700;
        display: block;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        margin-top: 1cm; /* Reduced from 2cm */
        page-break-before: auto; /* Changed from always to auto */
    }

    /* Page breaks */
    .pagebreak {
        display: none; /* Hide by default */
    }

    /* Activity log styling */
    .daily-activities table {
        font-size: 10pt;
    }

    .daily-activities th,
    .daily-activities td {
        padding: 0.4cm 0.5cm;
        vertical-align: top;
    }

    /* Remove hover effects in print */
    tr:hover {
        background: none !important;
    }
    
    tr:hover td {
        background: none !important;
    }

    /* Ensure alternating row styles don't interfere */
    .daily-activities tr:nth-child(even) td,
    .totals-container tr:nth-child(even) td {
        background: #f9f9f9 !important;
    }

    /* Totals highlighting */
    #overall-totals-table tr {
        font-weight: bold;
    }
    
    /* Keep related elements together */
    tr {
        page-break-inside: avoid;
    }
    
    /* Remove any timeline elements that might slip through */
    .day-line, .hour-marker, .day-label {
        display: none !important;
    }

    /* Ensure sender info displays properly */
    .sender-block p,
    .recipient-block p {
        margin: 0;
        line-height: 1.5;
    }

    /* Remove unnecessary borders on print */
    .daily-activities,
    .totals-container,
    .sender-block,
    .recipient-block {
        border: none !important;
    }
}

/* ============================================
   PROFESSIONAL PRINT-ONLY INVOICE STYLING
   ============================================ */

@media print {
    /* Override all existing print styles for professional invoice */
    
    /* Page setup for professional invoice */
    @page {
        margin: 1.5cm 2cm 2cm 2cm !important;
        size: A4 portrait !important;
    }
    
    /* Reset body for professional invoice */
    body {
        background: #ffffff !important;
        margin: 0 !important;
        padding: 0 !important;
        font-family: 'Times New Roman', serif !important;
        font-size: 11pt !important;
        line-height: 1.4 !important;
        color: #000000 !important;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }
    
    /* Professional invoice header styling */
    .invoice-header {
        text-align: center !important;
        border-bottom: 3pt double #000000 !important;
        padding-bottom: 20pt !important;
        margin-bottom: 30pt !important;
        page-break-after: avoid !important;
    }
    
    .invoice-header h1 {
        font-size: 24pt !important;
        font-weight: bold !important;
        letter-spacing: 2pt !important;
        color: #000000 !important;
        margin: 0 0 20pt 0 !important;
        text-transform: uppercase !important;
        display: block !important;
    }
    
    .invoice-meta {
        display: flex !important;
        justify-content: space-between !important;
        margin: 15pt 0 !important;
        font-size: 11pt !important;
    }
    
    .invoice-meta > div {
        flex: 1 !important;
        text-align: center !important;
    }
    
    .invoice-number,
    .invoice-date,
    .invoice-due-date {
        font-size: 11pt !important;
        font-weight: normal !important;
        color: #333333 !important;
        margin: 5pt 0 !important;
    }
    
    .invoice-total {
        font-size: 14pt !important;
        font-weight: bold !important;
        color: #000000 !important;
        margin-top: 20pt !important;
        padding: 12pt !important;
        border: 2pt solid #000000 !important;
        background: #f0f0f0 !important;
        text-align: center !important;
        text-transform: uppercase !important;
        letter-spacing: 1pt !important;
    }
    
    /* Reorganize layout for print - invoice header first, then sender/recipient */
    .sender-recipient-blocks {
        display: flex !important;
        flex-direction: column !important;
        width: 100% !important;
        page-break-inside: avoid !important;
    }
    
    .invoice-header {
        text-align: center !important;
        border-bottom: 3pt double #000000 !important;
        padding-bottom: 20pt !important;
        margin-bottom: 30pt !important;
        page-break-after: avoid !important;
        order: 1 !important;
        width: 100% !important;
    }
    
    .sender-recipient-info {
        display: flex !important;
        justify-content: space-between !important;
        order: 2 !important;
        width: 100% !important;
        margin-top: 20pt !important;
    }
    
    .sender-block,
    .recipient-block {
        width: 48% !important;
        padding: 15pt !important;
        border: 1pt solid #cccccc !important;
        background: #fafafa !important;
        page-break-inside: avoid !important;
    }
    
    .sender-block h2,
    .recipient-block h2 {
        font-size: 14pt !important;
        font-weight: bold !important;
        color: #000000 !important;
        margin: 0 0 10pt 0 !important;
        border-bottom: 1pt solid #666666 !important;
        padding-bottom: 5pt !important;
        text-transform: uppercase !important;
        letter-spacing: 1pt !important;
        display: block !important;
    }
    
    .sender-block p,
    .recipient-block p {
        font-size: 10pt !important;
        line-height: 1.3 !important;
        margin: 0 !important;
        color: #333333 !important;
    }
    
    /* Professional table styling */
    .content-columns {
        display: block !important;
        width: 100% !important;
        margin-top: 25pt !important;
    }
    
    .daily-activities,
    .totals-container {
        width: 100% !important;
        margin: 20pt 0 25pt 0 !important;
        page-break-inside: avoid !important;
        box-shadow: none !important;
        background: none !important;
        padding: 0 !important;
    }
    
    .daily-activities h3,
    .totals-container h3 {
        font-size: 16pt !important;
        font-weight: bold !important;
        color: #000000 !important;
        margin: 25pt 0 15pt 0 !important;
        padding: 8pt 0 5pt 0 !important;
        border-bottom: 2pt solid #000000 !important;
        text-transform: uppercase !important;
        letter-spacing: 1pt !important;
        page-break-after: avoid !important;
        display: block !important;
    }
    
    .daily-activities h3:first-of-type {
        margin-top: 0 !important;
    }
    
    /* Professional table headers and data */
    table {
        width: 100% !important;
        border-collapse: collapse !important;
        border: 1pt solid #333333 !important;
        margin: 10pt 0 20pt 0 !important;
        page-break-inside: avoid !important;
    }
    
    table thead {
        background: #f5f5f5 !important;
        display: table-header-group !important;
    }
    
    table thead th {
        font-size: 12pt !important;
        font-weight: bold !important;
        color: #000000 !important;
        padding: 8pt 12pt !important;
        text-align: left !important;
        border: 0.5pt solid #999999 !important;
        text-transform: uppercase !important;
        letter-spacing: 0.5pt !important;
        background: #f5f5f5 !important;
    }
    
    table tbody td {
        font-size: 10pt !important;
        padding: 6pt 12pt !important;
        border: 0.5pt solid #dddddd !important;
        vertical-align: top !important;
        color: #000000 !important;
    }
    
    /* Alternating row colors */
    table tbody tr:nth-child(even) {
        background: #f9f9f9 !important;
    }
    
    table tbody tr:nth-child(odd) {
        background: #ffffff !important;
    }
    
    /* Financial data formatting */
    .hours-cell,
    .earnings-cell {
        text-align: right !important;
        font-family: 'Courier New', monospace !important;
        font-weight: bold !important;
    }
    
    .date-cell {
        font-weight: bold !important;
        white-space: nowrap !important;
        width: 25% !important;
    }
    
    .notes-cell {
        font-style: italic !important;
        max-width: 300pt !important;
        word-wrap: break-word !important;
        width: 75% !important;
    }
    
    /* Totals emphasis */
    #overall-hours,
    #overall-earnings {
        font-size: 14pt !important;
        font-weight: bold !important;
        color: #000000 !important;
    }
    
    tr:has(#overall-hours),
    tr:has(#overall-earnings) {
        background: #f0f0f0 !important;
        border-top: 1pt solid #333333 !important;
        border-bottom: 1pt solid #333333 !important;
    }
    
    tr:has(#overall-hours) td,
    tr:has(#overall-earnings) td {
        font-weight: bold !important;
        padding: 10pt 12pt !important;
        font-size: 12pt !important;
    }
    
    #invoice-total-amount {
        font-size: 18pt !important;
        font-weight: bold !important;
        color: #000000 !important;
    }
    
    /* Page break controls */
    h3 {
        page-break-after: avoid !important;
    }
    
    tr {
        page-break-inside: avoid !important;
    }
    
    .totals-container {
        page-break-before: auto !important;
    }
}

/* Activity Log Section Separators */
.section-divider {
    height: 2px;
    background: var(--border-color);
    margin: 30px 0;
}

.section-header {
    background: var(--card-background);
    padding: 15px;
    margin: 20px 0;
    font-weight: bold;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    border-left: 4px solid var(--primary-color);
}

/* Table cell alignments */
.hours-cell,
.earnings-cell,
td:has(#overall-hours),
td:has(#overall-earnings) {
    text-align: right;
}

/* Print specific styles */
@media print {
    /* Stack columns vertically for print */
    .content-columns {
        display: block;
        width: 100%;
    }

    .daily-activities,
    .totals-container {
        width: 100%;
        margin: 2cm 0;
    }

    /* Add some spacing between sections */
    .daily-activities h3,
    .totals-container h3 {
        margin-top: 2cm;
        margin-bottom: 1cm;
        page-break-before: auto; /* Changed from always to auto */
    }

    /* First section shouldn't have the extra top margin */
    .daily-activities h3:first-child {
        margin-top: 0;
        page-break-before: avoid;
    }

    /* Right align totals in print */
    .hours-cell,
    .earnings-cell,
    td:has(#overall-hours),
    td:has(#overall-earnings) {
        text-align: right;
        font-family: "Courier New", monospace;
    }

    /* Improved activity log spacing */
    .daily-activities .date-cell {
        width: 20%;
        white-space: nowrap;
    }

    .daily-activities .notes-cell {
        width: 80%;
        padding-left: 1cm;
    }

    /* Section headers alignment */
    .section-header {
        text-align: left;
    }
}

@media print {
    @page {
        margin: 1.5cm;
        size: A4;
    }

    /* Add page numbers */
    @page {
        @bottom-right {
            content: counter(page);
        }
    }

    body {
        counter-reset: page;
    }

    /* Enhanced Section Headers for Print */
    .section-header {
        background: none;
        color: #000;
        border-bottom: 2pt solid #000;
        border-left: none;
        padding: 10px 0;
        margin: 1cm 0 0.5cm 0;
        font-size: 14pt;
        page-break-after: avoid;
    }

    .section-divider {
        border-top: 1pt solid #999;
        height: 0;
        margin: 1cm 0;
        background: none;
    }

    /* Activity Log Print Styles */
    .daily-activities {
        page-break-before: auto; /* Changed from always to auto */
    }

    .daily-activities table {
        margin-bottom: 1.5cm;
    }

    .daily-activities td {
        padding: 0.4cm 0.3cm;
        line-height: 1.4;
    }

    /* Notes formatting */
    .notes-cell {
        font-size: 10pt;
        color: #333;
    }

    /* Better table borders */
    .totals-container table,
    .daily-activities table {
        border: 1pt solid #000;
        margin: 0.5cm 0 1cm 0;
    }

    th {
        background: #f5f5f5 !important;
        color: #000;
        padding: 0.4cm;
    }

    td {
        border-bottom: 0.5pt solid #999;
    }

    /* Improve spacing between sections */
    .daily-activities > div {
        margin-bottom: 1.5cm;
    }

    /* Format currency consistently */
    .earnings-cell {
        font-family: "Courier New", monospace;
        white-space: nowrap;
    }

    /* Format dates consistently */
    .date-cell {
        white-space: nowrap;
        font-family: "Courier New", monospace;
    }
}

@media print {
    @page {
        margin: 2.5cm 2cm;
        size: A4;
        /* Add page numbers except on first page */
        @bottom-right {
            content: counter(pages);
        }
        &:first {
            @bottom-right {
                content: none;
            }
        }
    }

    /* Professional Invoice Typography */
    body {
        font-family: "Arial", "Helvetica", sans-serif;
        line-height: 1.6;
        color: #000;
        counter-reset: pages;
    }

    /* Invoice Header Section */
    .sender-recipient-blocks {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2cm;
        margin-bottom: 3cm;
        page-break-inside: avoid;
    }

    .invoice-details {
        text-align: right;
        margin-top: 1cm;
        font-size: 11pt;
    }

    .invoice-details h1 {
        font-size: 24pt;
        color: #333;
        margin-bottom: 0.5cm;
    }

    /* Tables Styling */
    .totals-container {
        margin-top: 2cm;
    }

    table {
        width: 100%;
        margin: 1cm 0;
        border: none;
        border-collapse: collapse;
    }

    th {
        background: #f8f8f8 !important;
        border-bottom: 2pt solid #000;
        padding: 0.5cm;
        font-size: 11pt;
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }

    td {
        padding: 0.4cm 0.5cm;
        border-bottom: 0.5pt solid #999;
        font-size: 10pt;
    }

    /* Money Columns */
    .earnings-cell {
        font-family: "Courier New", monospace;
        text-align: right;
        white-space: nowrap;
    }

    /* Hours Column */
    .hours-cell {
        text-align: right;
        font-family: "Courier New", monospace;
        white-space: nowrap;
    }

    /* Date Column */
    .date-cell {
        font-family: "Courier New", monospace;
        white-space: nowrap;
    }

    /* Section Breaks */
    .section-header {
        page-break-after: avoid;
        margin-top: 2cm;
        padding-bottom: 0.5cm;
        font-size: 14pt;
        color: #333;
        border-bottom: 2pt solid #000;
    }

    /* Activity Log */
    .daily-activities {
        page-break-before: auto; /* Changed from always to auto */
        margin-top: 2cm;
    }

    .daily-activities .notes-cell {
        font-size: 10pt;
        line-height: 1.4;
        color: #333;
        padding-left: 1cm;
    }

    /* Table Row Spacing */
    tr {
        page-break-inside: avoid;
    }

    tbody tr:nth-child(even) {
        background: #f9f9f9;
    }

    /* Total Rows */
    #weekly-totals-table tr:last-child,
    #overall-totals-table tr {
        font-weight: bold;
        border-top: 1pt solid #000;
    }

    /* Hide Screen Elements */
    .day-line-container,
    .chart-wrapper .container,
    .top-bar,
    button,
    input,
    #tooltip,
    .message,
    .screen-only {
        display: none !important;
    }

    /* Page Breaks */
    .pagebreak {
        display: none; /* Hide by default */
    }

    /* Footer */
    .invoice-footer {
        margin-top: 2cm;
        padding-top: 1cm;
        border-top: 1pt solid #999;
        font-size: 9pt;
        color: #666;
        text-align: center;
    }
}

.print-btn {
    display: flex;
    align-items: center;
    gap: 8px;
}

.print-btn svg {
    margin-right: 4px;
}

/* Update print styles */
@media print {
    @page {
        /* ...existing page settings... */
    }

    body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        line-height: 1.6;
        color: #000;
    }

    .invoice-details {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }

    .invoice-details h1 {
        font-weight: 700;
        letter-spacing: -0.02em;
    }

    th {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        font-weight: 600;
    }

    /* Money values in monospace for alignment */
    .earnings-cell {
        font-family: 'SF Mono', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
    }
}

/* Revert to single column for print */
@media print {
    .chart-wrapper {
        display: block;
        width: 100%;
        padding: 0;
    }

    .day-line-container,
    .daily-activities,
    .totals-container {
        width: 100%;
        max-height: none;
        overflow: visible;
        padding: 0;
        margin: 2cm 0;
    }
}

/* Timeline Visualization */
.hour-timeline {
    position: absolute;
    top: 10px;
    left: 100px; /* Align with day lines */
    right: 20px;
    height: 20px;
    border-bottom: 1px solid var(--border-color);
}

.hour-marker {
    position: absolute;
    top: 0;
    transform: translateX(-50%);
    white-space: nowrap;
    font-size: 0.8rem;
    color: var(--muted-text);
}

.day-line {
    position: relative;
    width: 100%;
    height: 30px;
    background: rgba(26, 26, 26, 0.4);
    margin: 8px 0;
    border-radius: var(--border-radius);
    transition: background-color 0.2s ease;
}

.day-line:hover {
    background: rgba(26, 26, 26, 0.6);
}

.day-label {
    position: absolute;
    left: -90px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 0.85rem;
    color: var(--text-color);
    width: 80px;
    text-align: right;
    pointer-events: none; /* Makes text clickthrough */
    user-select: none;
    font-family: 'SF Mono', monospace;
    opacity: 0.8;
}

.time-block {
    position: absolute;
    height: 100%;
    background: var(--primary-color);
    border-radius: var(--border-radius);
    opacity: 0.85;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    cursor: pointer;
}

.time-block:hover {
    opacity: 1;
    transform: scaleY(1.1);
}

.time-block.highlighted {
    background: var(--accent-color);
    opacity: 1;
    box-shadow: 0 4px 12px rgba(33, 158, 188, 0.3);
}

/* Activity Log Table Styles */
#activities-table .time-cell {
    font-family: 'SF Mono', Consolas, 'Liberation Mono', Menlo, monospace;
    white-space: nowrap;
    width: 100px;
}

#activities-table .notes-cell {
    min-width: 200px;
    padding-left: 20px;
}

@media print {
    /* First page layout */
    .invoice-header {
        text-align: right;
        margin-bottom: 1.5cm; /* Reduced from 3cm */
        page-break-after: avoid;
    }

    .invoice-header h1 {
        font-size: 36pt;
        color: #333;
        margin-bottom: 1cm;
        letter-spacing: 0.1em;
        display: block;
    }

    .invoice-header div {
        font-size: 12pt;
        line-height: 1.8;
        color: #333;
    }

    .invoice-total {
        margin-top: 1cm;
        font-size: 14pt !important;
        font-weight: bold;
    }

    /* Reorder print sections */
    .content-columns {
        display: block;
    }

    .sender-recipient-blocks {
        page-break-after: auto; /* Changed from always to auto */
    }

    /* Move totals container to front page */
    #overall-totals-table {
        display: none;  /* Hide from normal flow, we show total in header */
    }

    .daily-activities,
    .totals-container {
        page-break-before: auto; /* Changed from always to auto */
    }

    /* Remove redundant invoice title */
    .totals-container::before {
        content: none;
    }

    /* Show overall totals at bottom of totals section */
    #overall-totals-table {
        display: table;  /* Show table */
        margin-top: 2cm;
        border-top: 2pt solid #000;
        page-break-inside: avoid;
    }

    #overall-totals-table tr {
        font-weight: bold;
    }

    /* Remove redundant elements */
    .invoice-footer,
    .totals-container::before {
        display: none;
    }
}

/* Mobile Bottom Bar */
.mobile-bottom-bar {
    display: flex;
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: var(--card-background);
    padding: 10px;
    box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
    z-index: 1000;
    backdrop-filter: blur(10px);
}

.mobile-bottom-bar .clock-controls {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.mobile-bottom-bar input[type="text"] {
    width: 100%;
    margin: 0;
}

.mobile-bottom-bar .button-group {
    display: flex;
    gap: 8px;
}

.mobile-bottom-bar button {
    flex: 1;
    margin: 0;
    padding: 12px;
}

/* Table Scroll on Mobile */
.table-wrapper {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    margin: 0 -20px;
    padding: 0 20px;
}

/* Responsive Typography */
h3 {
    font-size: 1.2rem;
}

/* Tablet and up */
@media (min-width: 768px) {
    body {
        padding-bottom: 0;
    }

    .mobile-bottom-bar {
        display: none;
    }

    .top-bar {
        flex-wrap: nowrap;
    }

    .top-bar .pay-rate,
    .top-bar .clock-controls,
    .top-bar .settings-btn {
        width: auto;
    }

    .content-columns {
        grid-template-columns: 1fr 1fr;
    }

    h1 {
        font-size: 2.5rem;
    }

    h3 {
        font-size: 1.4rem;
    }
}

/* Desktop and up */
@media (min-width: 1024px) {
    .chart-wrapper {
        width: 90%;
        max-width: 1400px;
    }
}

/* Mobile-specific styles */
@media (max-width: 767px) {
    body {
        padding-bottom: var(--mobile-bottom-padding);
    }

    .hide-on-mobile {
        display: none !important;
    }

    .top-bar .pay-rate {
        display: none; /* Hide pay rate in top bar */
    }

    .content-columns {
        margin-bottom: var(--mobile-bottom-padding);
    }

    /* Remove margins and set full width for containers */
    .chart-wrapper,
    .day-line-container,
    .daily-activities,
    .totals-container {
        margin: 0;
        width: 100%;
        padding: 0 10px; /* Add some padding for better readability */
    }
}

/* Unified Table Styles */
.daily-activities,
.totals-container {
    background: var(--card-background);
    padding: 30px;
    border-radius: var(--border-radius);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
}

.daily-activities table,
.totals-container table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    margin: 20px 0;
}

/* Headers */
.daily-activities th,
.totals-container th {
    padding: 15px;
    background: rgba(26, 26, 26, 0.4);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-size: 0.85rem;
    border-bottom: 2px solid var(--border-color);
    text-align: left;
}

/* Remove old hover styles */
.totals-container tr:hover {
    background-color: transparent;
}

/* Unified hover effect for both tables */
.daily-activities tr:hover td,
.totals-container tr:hover td {
    background: rgba(255, 255, 255, 0.03) !important;
    transition: background-color var(--transition-speed) ease;
}

/* Unified alternating row styles */
.daily-activities tr:nth-child(even) td,
.totals-container tr:nth-child(even) td {
    background: rgba(26, 26, 26, 0.2) !important; /* Ensure same opacity */
}

/* Make sure hover takes precedence */
.daily-activities tr:hover td,
.totals-container tr:hover td {
    background: rgba(255, 255, 255, 0.03) !important;
}

/* Cells */
.daily-activities td,
.totals-container td {
    padding: 12px 15px;
    border-bottom: 1px solid var(--border-color);
    font-size: 0.95rem;
    font-family: var(--font-family);
}

/* Remove any conflicting styles */
.totals-container table {
    border-collapse: separate;
}

.totals-container th,
.totals-container td {
    text-align: left;
    padding: 12px 15px;
}

/* Table Headers */
.daily-activities h3,
.totals-container h3 {
    color: var(--primary-color);
    font-size: 1.4rem;
    margin-bottom: 30px;
    font-weight: 600;
}
